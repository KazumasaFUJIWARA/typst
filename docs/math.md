# 数学文書スタイル (math.typ)

[🔙readme](../README.md)

## 概要

`math.typ`は数学文書の作成に特化したTypstスタイルファイルです。定理、定義、証明などの数学要素を美しく表示し、数式の可読性を向上させます。

## 機能

### 主要な関数

#### `mythm(title: none, date: none, affiliation: none, author: none, doc)`
数学文書全体を包むメイン関数です。
- **引数**:
  - `title` - 文書のタイトル（オプション）
  - `date` - 文書の日付（オプション）
  - `affiliation` - 所属（オプション）
  - `author` - 著者名（オプション）
  - `doc` - 文書の内容
- **機能**: 
  - A4用紙、20mmマージン、11ptフォントサイズを設定
  - 見出し番号を自動付与（1.1.1形式）
  - 数式番号を章番号付きで管理（(1.1)形式）
  - 図表番号を章番号付きで管理（1.1形式）
  - 章が変わる際にカウンターをリセット

#### `theorem(title: none, id: none, it)`
定理を表示する関数です。
- **引数**:
  - `title` - 定理のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 定理の内容
- **表示**: 黒い枠線で囲まれた定理ボックス

#### `definition(title: none, id: none, it)`
定義を表示する関数です。
- **引数**:
  - `title` - 定義のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 定義の内容
- **表示**: シルバーの背景色で囲まれた定義ボックス

#### `proposition(title: none, id: none, it)`
命題を表示する関数です。
- **引数**:
  - `title` - 命題のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 命題の内容
- **表示**: 薄いグレーの背景とグレーの枠線

#### `lemma(title: none, id: none, it)`
補題を表示する関数です。
- **引数**:
  - `title` - 補題のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 補題の内容
- **表示**: 太いシルバーの枠線

#### `corollary(title: none, id: none, it)`
系を表示する関数です。
- **引数**:
  - `title` - 系のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 系の内容
- **表示**: 細いシルバーの枠線

#### `remark(title: none, id: none, it)`
註を表示する関数です。
- **引数**:
  - `title` - 註のタイトル（オプション）
  - `id` - 参照用のID（オプション）
  - `it` - 註の内容
- **表示**: 左側のみ黒い枠線

#### `example(title: none, it)`
例を表示する関数です。
- **引数**:
  - `title` - 例のタイトル（オプション）
  - `it` - 例の内容
- **表示**: 左側のみグレーの枠線

#### `proof(title: none, it)`
証明を表示する関数です。
- **引数**:
  - `title` - 証明のタイトル（オプション）
  - `it` - 証明の内容
- **表示**: 「証明: 」で始まり、末尾に□（証明終了記号）を右寄せで表示

### 使用例

- [サンプル typst ファイル](../examples/math.typ)
- [サンプル pdf ファイル](../examples/math.pdf)

## スタイルの特徴

### 表示スタイル

各数学要素は以下のスタイルで表示されます：

- **定義**: シルバーの背景色、角丸4pt
- **定理**: 黒い2pt枠線、角丸4pt
- **命題**: 薄いグレー背景、グレー2pt枠線、角丸4pt
- **補題**: 太いシルバー4pt枠線、角丸4pt
- **系**: 細いシルバー2pt枠線、角丸4pt
- **註**: 左側のみ黒い2pt枠線
- **例**: 左側のみグレー2pt枠線
- **証明**: 通常テキスト、「証明: 」で開始、□で終了

### ページ設定

- **用紙サイズ**: A4
- **マージン**: 20mm
- **フォントサイズ**: 11pt
- **見出し番号**: 1.1.1形式
- **数式番号**: (1.1)形式
- **図表番号**: 1.1形式

## 参照機能

各関数で `id` パラメータを指定すると、文書内で参照できます：

```typ
#theorem(title: "基底の存在", id: "basis-existence")[
  任意の有限次元ベクトル空間は基底を持つ。
]

#proof[
  定義 @vector-space と定理 @basis-existence より...
]
```

## 注意事項

- 相対パスでのインポートが必要です
- 数式は`$...$`または`#(...)`で囲んでください
- 定理番号は自動的に付与されます
- すべての数学要素は `figure` として扱われ、自動的に番号が付与されます
- 章が変わる際に、数式・図表の番号がリセットされます

## カスタマイズについて

現在のバージョンでは、スタイルのカスタマイズ機能は提供されていません。
スタイルを変更したい場合は、`styles/math.typ`ファイルを直接編集してください。

主な変更可能な要素：
- 各関数の`fill`、`stroke`、`radius`パラメータ
- `mythm`関数内のページ設定
- フォントサイズやマージン設定 